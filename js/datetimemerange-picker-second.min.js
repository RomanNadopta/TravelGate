/**
 * @author: Alumuko https://github.com/alumuko/alumuko
 * @copyright: Copyright (c) 2021 Alumuko. All rights reserved.
 * @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php
 * @website: https://github.com/alumuko/vanilla-datetimerange-picker
 *
 * Special thanks to Dan Grossman.
 * This program is base on Dan Grossman's bootstrap-daterangepicker (version 3.1)
 * I just changed the code a bit to not need jquery.
 */
var DateRangePicker;window.addEventListener("load",(function(e){new DateRangePicker("datetimerange-input1")})),function(){(DateRangePicker=function(t,s,i){this.parentEl=document.body,this.element="string"==typeof t?document.getElementById(t):t,this.startDate=moment().startOf("day"),this.endDate=moment().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!0,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=moment().subtract(100,"year").format("YYYY"),this.maxYear=moment().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!0,this.ranges={},this.opens="right",this.element.classList.contains("pull-right")&&(this.opens="left"),this.drops="down",this.element.classList.contains("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:"DD.MM.YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:moment.weekdaysMin(),monthNames:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],firstDay:moment.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof s&&null!==s||(s={}),"string"!=typeof(s=Object.assign(Object.assign({},this.element.dataset),s)).template&&(s.template='<div class="daterangepicker daterangepicker-1"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=s.parentEl?s.parentEl:this.parentEl;var a,n,o,l=document.createElement("div");if(l.innerHTML=s.template.trim(),this.container=l.firstElementChild,this.parentEl.insertAdjacentElement("beforEend",this.container),"object"==typeof s.locale&&("string"==typeof s.locale.direction&&(this.locale.direction=s.locale.direction),"string"==typeof s.locale.format&&(this.locale.format=s.locale.format),"string"==typeof s.locale.separator&&(this.locale.separator=s.locale.separator),"object"==typeof s.locale.daysOfWeek&&(this.locale.daysOfWeek=s.locale.daysOfWeek.slice()),"object"==typeof s.locale.monthNames&&(this.locale.monthNames=s.locale.monthNames.slice()),"number"==typeof s.locale.firstDay&&(this.locale.firstDay=s.locale.firstDay),"string"==typeof s.locale.applyLabel&&(this.locale.applyLabel=s.locale.applyLabel),"string"==typeof s.locale.cancelLabel&&(this.locale.cancelLabel=s.locale.cancelLabel),"string"==typeof s.locale.weekLabel&&(this.locale.weekLabel=s.locale.weekLabel),"string"==typeof s.locale.customRangeLabel)){(u=document.createElement("textarea")).innerHTML=s.locale.customRangeLabel;var r=u.value;this.locale.customRangeLabel=r}if(this.container.classList.add(this.locale.direction),"string"==typeof s.startDate&&(this.startDate=moment(s.startDate,this.locale.format)),"string"==typeof s.endDate&&(this.endDate=moment(s.endDate,this.locale.format)),"string"==typeof s.minDate&&(this.minDate=moment(s.minDate,this.locale.format)),"string"==typeof s.maxDate&&(this.maxDate=moment(s.maxDate,this.locale.format)),"object"==typeof s.startDate&&(this.startDate=moment(s.startDate)),"object"==typeof s.endDate&&(this.endDate=moment(s.endDate)),"object"==typeof s.minDate&&(this.minDate=moment(s.minDate)),"object"==typeof s.maxDate&&(this.maxDate=moment(s.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof s.applyButtonClasses&&(this.applyButtonClasses=s.applyButtonClasses),"string"==typeof s.applyClass&&(this.applyButtonClasses=s.applyClass),"string"==typeof s.cancelButtonClasses&&(this.cancelButtonClasses=s.cancelButtonClasses),"string"==typeof s.cancelClass&&(this.cancelButtonClasses=s.cancelClass),"object"==typeof s.maxSpan&&(this.maxSpan=s.maxSpan),"object"==typeof s.dateLimit&&(this.maxSpan=s.dateLimit),"string"==typeof s.opens&&(this.opens=s.opens),"string"==typeof s.drops&&(this.drops=s.drops),"boolean"==typeof s.showWeekNumbers&&(this.showWeekNumbers=s.showWeekNumbers),"boolean"==typeof s.showISOWeekNumbers&&(this.showISOWeekNumbers=s.showISOWeekNumbers),"string"==typeof s.buttonClasses&&(this.buttonClasses=s.buttonClasses),"object"==typeof s.buttonClasses&&(this.buttonClasses=s.buttonClasses.join(" ")),"boolean"==typeof s.showDropdowns&&(this.showDropdowns=s.showDropdowns),"number"==typeof s.minYear&&(this.minYear=s.minYear),"number"==typeof s.maxYear&&(this.maxYear=s.maxYear),"boolean"==typeof s.showCustomRangeLabel&&(this.showCustomRangeLabel=s.showCustomRangeLabel),"boolean"==typeof s.singleDatePicker&&(this.singleDatePicker=s.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof s.timePicker&&(this.timePicker=s.timePicker),"boolean"==typeof s.timePickerSeconds&&(this.timePickerSeconds=s.timePickerSeconds),"number"==typeof s.timePickerIncrement&&(this.timePickerIncrement=s.timePickerIncrement),"boolean"==typeof s.timePicker24Hour&&(this.timePicker24Hour=s.timePicker24Hour),"boolean"==typeof s.autoApply&&(this.autoApply=s.autoApply),"boolean"==typeof s.autoUpdateInput&&(this.autoUpdateInput=s.autoUpdateInput),"boolean"==typeof s.linkedCalendars&&(this.linkedCalendars=s.linkedCalendars),"function"==typeof s.isInvalidDate&&(this.isInvalidDate=s.isInvalidDate),"function"==typeof s.isCustomDate&&(this.isCustomDate=s.isCustomDate),"boolean"==typeof s.alwaysShowCalendars&&(this.alwaysShowCalendars=s.alwaysShowCalendars),0!=this.locale.firstDay)for(var h=this.locale.firstDay;h>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),h--;if(void 0===s.startDate&&void 0===s.endDate&&"INPUT"===this.element.tagName&&"text"===this.element.type){var c=this.element.value,d=c.split(this.locale.separator);a=n=null,2==d.length?(a=moment(d[0],this.locale.format),n=moment(d[1],this.locale.format)):this.singleDatePicker&&""!==c&&(a=moment(c,this.locale.format),n=moment(c,this.locale.format)),null!==a&&null!==n&&(this.setStartDate(a),this.setEndDate(n))}if("object"==typeof s.ranges){let e=Object.keys(s.ranges);for(let t=0;t<e.length;++t){let i=e[t];a="string"==typeof s.ranges[i][0]?moment(s.ranges[i][0],this.locale.format):moment(s.ranges[i][0]),n="string"==typeof s.ranges[i][1]?moment(s.ranges[i][1],this.locale.format):moment(s.ranges[i][1]),this.minDate&&a.isBefore(this.minDate)&&(a=this.minDate.clone());var m=this.maxDate;if(this.maxSpan&&m&&a.clone().add(this.maxSpan).isAfter(m)&&(m=a.clone().add(this.maxSpan)),m&&n.isAfter(m)&&(n=m.clone()),!(this.minDate&&n.isBefore(this.minDate,this.timepicker?"minute":"day")||m&&a.isAfter(m,this.timepicker?"minute":"day"))){var u;(u=document.createElement("textarea")).innerHTML=i;r=u.value;this.ranges[r]=[a,n]}}var f="<ul>";for(o in this.ranges)f+='<li data-range-key="'+o+'">'+o+"</li>";this.showCustomRangeLabel&&(f+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),f+="</ul>",this.container.querySelector(".ranges").insertAdjacentHTML("afterbegin",f)}"function"==typeof i&&(this.callback=i),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.style.display="none",this.container.querySelector(".calendar-time").display),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.classList.add("auto-apply"),"object"==typeof s.ranges&&this.container.classList.add("show-ranges"),this.singleDatePicker&&(this.container.classList.add("single"),this.container.querySelector(".drp-calendar.left").classList.add("single"),this.container.querySelector(".drp-calendar.left").style.display="block",this.container.querySelector(".drp-calendar.right").style.display="none",!this.timePicker&&this.autoApply&&this.container.classList.add("auto-apply")),(void 0===s.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.classList.add("show-calendar"),this.container.classList.add("opens"+this.opens);let p=this.container.querySelector(".applyBtn"),y=this.container.querySelector(".cancelBtn");e.addClass(p,this.buttonClasses),e.addClass(y,this.buttonClasses),this.applyButtonClasses.length&&e.addClass(p,this.applyButtonClasses),this.cancelButtonClasses.length&&e.addClass(y,this.cancelButtonClasses),e.html(p,this.locale.applyLabel),e.html(y,this.locale.cancelLabel),this.clickRangeProxy=function(e){this.clickRange(e)}.bind(this),e.on(this.container.querySelector(".ranges"),"click","li",this.clickRangeProxy);let D=this.container.querySelector(".drp-buttons");this.clickApplyProxy=function(e){this.clickApply(e)}.bind(this),e.on(D,"click","button.applyBtn",this.clickApplyProxy),this.clickCancelProxy=function(e){this.clickCancel(e)}.bind(this),e.on(D,"click","button.cancelBtn",this.clickCancelProxy),"INPUT"===this.element.tagName||"BUTTON"===this.element.tagName?(this.showProxy=function(e){this.show(e)}.bind(this),e.on(this.element,"click",this.showProxy),e.on(this.element,"focus",this.showProxy),this.elementChangedProxy=function(e){this.elementChanged(e)}.bind(this),e.on(this.element,"keyup",this.elementChangedProxy),this.keydownProxy=function(e){this.keydown(e)}.bind(this),e.on(this.element,"keydown",this.keydownProxy)):(this.toggleProxy=function(e){this.toggle(e)}.bind(this),e.on(this.element,"click",this.toggleProxy),e.on(this.element,"keydown",this.toggleProxy)),this.updateElement()}).prototype={constructor:DateRangePicker,setStartDate:function(e){"string"==typeof e&&(this.startDate=moment(e,this.locale.format)),"object"==typeof e&&(this.startDate=moment(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=moment(t,this.locale.format)),"object"==typeof t&&(this.endDate=moment(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),e.html(this.container.querySelector(".drp-selected"),this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){if(this.timePicker){this.renderTimePicker("left"),this.renderTimePicker("right");let e=this.container.querySelectorAll(".right .calendar-time select");if(this.endDate)for(let t=0;t<e.length;++t)e[t].disabled=!1,e[t].classList.remove("disabled");else for(let t=0;t<e.length;++t)e[t].disabled=!0,e[t].classList.add("disabled")}this.endDate&&e.html(this.container.querySelector(".drp-selected"),this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){this.clickPrevProxy||(this.clickPrevProxy=function(e){this.clickPrev(e)}.bind(this)),this.clickNextProxy||(this.clickNextProxy=function(e){this.clickNext(e)}.bind(this)),this.clickDateProxy||(this.clickDateProxy=function(e){this.clickDate(e)}.bind(this)),this.hoverDateProxy||(this.hoverDateProxy=function(e){this.hoverDate(e)}.bind(this)),this.monthOrYearChangedProxy||(this.monthOrYearChangedProxy=function(e){this.monthOrYearChanged(e)}.bind(this)),this.timeChangedProxy||(this.timeChangedProxy=function(e){this.timeChanged(e)}.bind(this));let t=this.container.querySelectorAll(".drp-calendar");if(e.off(t,"click",".prev",this.clickPrevProxy),e.off(t,"click",".next",this.clickNextProxy),e.off(t,"mousedown","td.available",this.clickDateProxy),e.off(t,"mouseenter","td.available",this.hoverDateProxy),e.off(t,"change","select.yearselect",this.monthOrYearChangedProxy),e.off(t,"change","select.monthselect",this.monthOrYearChangedProxy),e.off(t,"change","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChangedProxy),this.timePicker){var s,i,a,n;if(this.endDate){if(s=parseInt(this.container.querySelector(".left .hourselect").value,10),i=parseInt(this.container.querySelector(".left .minuteselect").value,10),isNaN(i)&&(i=parseInt(e.findLast(this.container.querySelector(".left .minuteselect")).value,10)),a=this.timePickerSeconds?parseInt(this.container.querySelector(".left .secondselect").value,10):0,!this.timePicker24Hour)"PM"===(n=this.container.querySelector(".left .ampmselect").value)&&s<12&&(s+=12),"AM"===n&&12===s&&(s=0)}else if(s=parseInt(this.container.querySelector(".right .hourselect").value,10),i=parseInt(this.container.querySelector(".right .minuteselect").value,10),isNaN(i)&&(i=parseInt(e.findLast(this.container.querySelector(".right .minuteselect")).value,10)),a=this.timePickerSeconds?parseInt(this.container.querySelector(".right .secondselect").value,10):0,!this.timePicker24Hour)"PM"===(n=this.container.querySelector(".right .ampmselect").value)&&s<12&&(s+=12),"AM"===n&&12===s&&(s=0);this.leftCalendar.month.hour(s).minute(i).second(a),this.rightCalendar.month.hour(s).minute(i).second(a)}this.renderCalendar("left"),this.renderCalendar("right"),rangesLiElList=this.container.querySelectorAll(".ranges li");for(let e=0;e<rangesLiElList.length;++e)rangesLiElList[e].classList.remove("active");null!=this.endDate&&this.calculateChosenLabel(),e.on(t,"click",".prev",this.clickPrevProxy),e.on(t,"click",".next",this.clickNextProxy),e.on(t,"mousedown","td.available",this.clickDateProxy),e.on(t,"mouseenter","td.available",this.hoverDateProxy),e.on(t,"change","select.yearselect",this.monthOrYearChangedProxy),e.on(t,"change","select.monthselect",this.monthOrYearChangedProxy),e.on(t,"change","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChangedProxy)},renderCalendar:function(t){var s,i=(s="left"==t?this.leftCalendar:this.rightCalendar).month.month(),a=s.month.year(),n=s.month.hour(),o=s.month.minute(),l=s.month.second(),r=moment([a,i]).daysInMonth(),h=moment([a,i,1]),c=moment([a,i,r]),d=moment(h).subtract(1,"month").month(),m=moment(h).subtract(1,"month").year(),u=moment([m,d]).daysInMonth(),f=h.day();(s=[]).firstDay=h,s.lastDay=c;for(var p=0;p<6;p++)s[p]=[];var y=u-f+this.locale.firstDay+1;y>u&&(y-=7),f==this.locale.firstDay&&(y=u-6);for(var D=moment([m,d,y,12,o,l]),g=(p=0,0),k=0;p<42;p++,g++,D=moment(D).add(24,"hour"))p>0&&g%7==0&&(g=0,k++),s[k][g]=D.clone().hour(n).minute(o).second(l),D.hour(12),this.minDate&&s[k][g].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&s[k][g].isBefore(this.minDate)&&"left"==t&&(s[k][g]=this.minDate.clone()),this.maxDate&&s[k][g].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&s[k][g].isAfter(this.maxDate)&&"right"==t&&(s[k][g]=this.maxDate.clone());"left"==t?this.leftCalendar.calendar=s:this.rightCalendar.calendar=s;var v="left"==t?this.minDate:this.startDate,b=this.maxDate,P=("left"==t?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">');P+="<thead>",P+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(P+="<th></th>"),v&&!v.isBefore(s.firstDay)||this.linkedCalendars&&"left"!=t?P+="<th></th>":P+='<th class="prev available"><span></span></th>';var x=this.locale.monthNames[s[1][1].month()]+s[1][1].format(" YYYY");if(this.showDropdowns){for(var C=s[1][1].month(),S=s[1][1].year(),Y=b&&b.year()||this.maxYear,w=v&&v.year()||this.minYear,L=S==w,M=S==Y,E='<select class="monthselect">',q=0;q<12;q++)(!L||v&&q>=v.month())&&(!M||b&&q<=b.month())?E+="<option value='"+q+"'"+(q===C?" selected='selected'":"")+">"+this.locale.monthNames[q]+"</option>":E+="<option value='"+q+"'"+(q===C?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[q]+"</option>";E+="</select>";for(var I='<select class="yearselect">',A=w;A<=Y;A++)I+='<option value="'+A+'"'+(A===S?' selected="selected"':"")+">"+A+"</option>";x=E+(I+="</select>")}P+='<th colspan="5" class="month">'+x+"</th>",b&&!b.isAfter(s.lastDay)||this.linkedCalendars&&"right"!=t&&!this.singleDatePicker?P+="<th></th>":P+='<th class="next available"><span></span></th>',P+="</tr>",P+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(P+='<th class="week">'+this.locale.weekLabel+"</th>");for(let e=0;e<this.locale.daysOfWeek.length;++e)P+="<th>"+this.locale.daysOfWeek[e]+"</th>";if(P+="</tr>",P+="</thead>",P+="<tbody>",null==this.endDate&&this.maxSpan){var N=this.startDate.clone().add(this.maxSpan).endOf("day");b&&!N.isBefore(b)||(b=N)}for(k=0;k<6;k++){P+="<tr>",this.showWeekNumbers?P+='<td class="week">'+s[k][0].week()+"</td>":this.showISOWeekNumbers&&(P+='<td class="week">'+s[k][0].isoWeek()+"</td>");for(g=0;g<7;g++){var O=[];s[k][g].isSame(new Date,"day")&&O.push("today"),s[k][g].isoWeekday()>5&&O.push("weekend"),s[k][g].month()!=s[1][1].month()&&O.push("off","ends"),this.minDate&&s[k][g].isBefore(this.minDate,"day")&&O.push("off","disabled"),b&&s[k][g].isAfter(b,"day")&&O.push("off","disabled"),this.isInvalidDate(s[k][g])&&O.push("off","disabled"),s[k][g].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&O.push("active","start-date"),null!=this.endDate&&s[k][g].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&O.push("active","end-date"),null!=this.endDate&&s[k][g]>this.startDate&&s[k][g]<this.endDate&&O.push("in-range");var B=this.isCustomDate(s[k][g]);!1!==B&&("string"==typeof B?O.push(B):Array.prototype.push.apply(O,B));var _="",W=!1;for(p=0;p<O.length;p++)_+=O[p]+" ","disabled"==O[p]&&(W=!0);W||(_+="available"),P+='<td class="'+_.replace(/^\s+|\s+$/g,"")+'" data-title="r'+k+"c"+g+'">'+s[k][g].date()+"</td>"}P+="</tr>"}P+="</tbody>",P+="</table>",e.html(this.container.querySelector(".drp-calendar."+t+" .calendar-table"),P)},renderTimePicker:function(t){if("right"!=t||this.endDate){var s,i,a,n=this.maxDate;if(!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(n=this.startDate.clone().add(this.maxSpan)),"left"==t)i=this.startDate.clone(),a=this.minDate;else if("right"==t){i=this.endDate.clone(),a=this.startDate;var o=this.container.querySelector(".drp-calendar.right .calendar-time");if(""!=o.innerHTML&&(i.hour(isNaN(i.hour())?e.findSelectedOption(o.querySelector(".hourselect")).value:i.hour()),i.minute(isNaN(i.minute())?e.findSelectedOption(o.querySelector(".minuteselect")).value:i.minute()),i.second(isNaN(i.second())?e.findSelectedOption(o.querySelector(".secondselect")).value:i.second()),!this.timePicker24Hour)){var l=e.findSelectedOption(o.querySelector(".ampmselect")).value;"PM"===l&&i.hour()<12&&i.hour(i.hour()+12),"AM"===l&&12===i.hour()&&i.hour(0)}i.isBefore(this.startDate)&&(i=this.startDate.clone()),n&&i.isAfter(n)&&(i=n.clone())}s='<select class="hourselect">';for(var r=this.timePicker24Hour?0:1,h=this.timePicker24Hour?23:12,c=r;c<=h;c++){var d=c;this.timePicker24Hour||(d=i.hour()>=12?12==c?12:c+12:12==c?0:c);var m=i.clone().hour(d),u=!1;a&&m.minute(59).isBefore(a)&&(u=!0),n&&m.minute(0).isAfter(n)&&(u=!0),d!=i.hour()||u?s+=u?'<option value="'+c+'" disabled="disabled" class="disabled">'+c+"</option>":'<option value="'+c+'">'+c+"</option>":s+='<option value="'+c+'" selected="selected">'+c+"</option>"}s+="</select> ",s+=': <select class="minuteselect">';for(c=0;c<60;c+=this.timePickerIncrement){var f=c<10?"0"+c:c;m=i.clone().minute(c),u=!1;a&&m.second(59).isBefore(a)&&(u=!0),n&&m.second(0).isAfter(n)&&(u=!0),i.minute()!=c||u?s+=u?'<option value="'+c+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+c+'">'+f+"</option>":s+='<option value="'+c+'" selected="selected">'+f+"</option>"}if(s+="</select> ",this.timePickerSeconds){s+=': <select class="secondselect">';for(c=0;c<60;c++){f=c<10?"0"+c:c,m=i.clone().second(c),u=!1;a&&m.isBefore(a)&&(u=!0),n&&m.isAfter(n)&&(u=!0),i.second()!=c||u?s+=u?'<option value="'+c+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+c+'">'+f+"</option>":s+='<option value="'+c+'" selected="selected">'+f+"</option>"}s+="</select> "}if(!this.timePicker24Hour){s+='<select class="ampmselect">';var p="",y="";a&&i.clone().hour(12).minute(0).second(0).isBefore(a)&&(p=' disabled="disabled" class="disabled"'),n&&i.clone().hour(0).minute(0).second(0).isAfter(n)&&(y=' disabled="disabled" class="disabled"'),i.hour()>=12?s+='<option value="AM"'+p+'>AM</option><option value="PM" selected="selected"'+y+">PM</option>":s+='<option value="AM" selected="selected"'+p+'>AM</option><option value="PM"'+y+">PM</option>",s+="</select>"}e.html(this.container.querySelector(".drp-calendar."+t+" .calendar-time"),s)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.querySelector("button.applyBtn").disabled=!1:this.container.querySelector("button.applyBtn").disabled=!0},move:function(){var t,s={top:0,left:0},i=this.drops,a=window.innerWidth;if("BODY"!==this.parentEl.tagName){let t=e.offset(this.parentEl);s={top:t.top-this.parentEl.scrollTop(),left:t.left-this.parentEl.scrollLeft()},a=this.parentEl.clientWidth+t.left}let n=e.offset(this.element);switch(i){case"auto":(t=n.top+this.element.offsetHeight-s.top)+this.container.offsetHeight>=this.parentEl.scrollHeight&&(t=n.top-this.container.offsetHeight-s.top,i="up");break;case"up":t=n.top-this.container.offsetHeight-s.top;break;default:t=n.top+this.element.offsetHeight-s.top}this.container.style.top="0",this.container.style.left="0",this.container.style.right="auto";var o=this.container.offsetWidth;if("up"==i?this.container.classList.add("drop-up"):this.container.classList.remove("drop-up"),"left"==this.opens){var l=a-n.left-this.element.offsetWidth;o+l>window.innerWidth?(this.container.style.top=t+"px",this.container.style.right="auto",this.container.style.left="9px"):(this.container.style.top=t+"px",this.container.style.right=l+"px",this.container.style.left="auto")}else if("center"==this.opens){(r=n.left-s.left+this.element.offsetWidth/2-o/2)<0?(this.container.style.top=t+"px",this.container.style.right="auto",this.container.style.left="9px"):r+o>window.innerWidth?(this.container.style.top=t+"px",this.container.style.left="auto",this.container.style.right="0"):(this.container.style.top=t+"px",this.container.style.left=r+"px",this.container.style.right="auto")}else{var r;(r=n.left-s.left)+o>window.innerWidth?(this.container.style.top=t+"px",this.container.style.left="auto",this.container.style.right="0"):(this.container.style.top=t+"px",this.container.style.left=r+"px",this.container.style.right="auto")}},show:function(t){if(this.isShowing)return;this._outsideClickProxy||(this._outsideClickProxy=function(e){this.outsideClick(e)}.bind(this)),document.addEventListener("mousedown",this._outsideClickProxy),document.addEventListener("touchend",this._outsideClickProxy),e.on(document,"click","[data-toggle=dropdown]",this._outsideClickProxy),document.addEventListener("focusin",this._outsideClickProxy),this.moveProxy||(this.moveProxy=function(e){this.move(e)}.bind(this)),window.addEventListener("resize",this.moveProxy),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.style.display="block",this.move(),this.element.dispatchEvent(new CustomEvent("show.daterangepicker",{bubbles:!0,detail:this})),this.isShowing=!0;let s=window.matchMedia("(max-width: 591px)");function i(e){if(e.matches){let e=document.querySelector(".travel-select__date"),t=document.querySelector(".travel-select__date--opened");e.classList.contains("travel-select__date--opened")&&s.matches&&(t.style.height="620px")}}let a=window.matchMedia("(min-width: 592px) and (max-width: 1109px)");function n(e){if(e.matches){let e=document.querySelector(".travel-select__date"),t=document.querySelector(".travel-select__date--opened");e.classList.contains("travel-select__date--opened")&&a.matches&&(t.style.height="380px")}}let o=window.matchMedia("(min-width: 1110px)");function l(e){if(e.matches){let e=document.querySelector(".travel-select__date"),t=document.querySelector(".travel-select__date--opened");e.classList.contains("travel-select__date--opened")&&o.matches&&(t.style.height="620px")}}s.addEventListener("change",i),i(s),a.addEventListener("change",n),n(a),o.addEventListener("change",l),l(o)},hide:function(t){if(this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),this._outsideClickProxy&&(document.removeEventListener("mousedown",this._outsideClickProxy),document.removeEventListener("touchend",this._outsideClickProxy),e.off(document,"click","[data-toggle=dropdown]",this._outsideClickProxy),document.removeEventListener("focusin",this._outsideClickProxy)),this.moveProxy&&window.removeEventListener("resize",this.moveProxy),this.container.style.display="none",this.element.dispatchEvent(new CustomEvent("hide.daterangepicker",{bubbles:!0})),this.isShowing=!1,"none"==this.container.style.display)){let e=document.querySelector(".travel-select__date"),t=document.querySelector(".travel-select__date--opened");e.classList.contains("travel-select__date--opened")&&(t.style.height="140px"),document.querySelector(".arrow-left__date").addEventListener("click",(function(){t.style.height="auto"}))}},toggle:function(e){this.isShowing?this.hide():this.show()},outsideClick:function(t){var s=t.target;"focusin"==t.type||s.closest(e.getSelectorFromElement(this.element))||s.closest(e.getSelectorFromElement(this.container))||s.closest(".calendar-table")||(this.hide(),this.element.dispatchEvent(new CustomEvent("outsideClick.daterangepicker",{bubbles:!0,detail:this})))},showCalendars:function(){this.container.classList.add("show-calendar"),this.move(),this.element.dispatchEvent(new CustomEvent("showCalendar.daterangepicker",{bubbles:!0,detail:this}))},hideCalendars:function(){this.container.classList.remove("show-calendar"),this.element.dispatchEvent(new CustomEvent("hideCalendar.daterangepicker",{bubbles:!0,detail:this}))},clickRange:function(e){var t=e.target.dataset.rangeKey;if(this.chosenLabel=t,t==this.locale.customRangeLabel)this.showCalendars();else{var s=this.ranges[t];this.startDate=s[0],this.endDate=s[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply(e)}},clickPrev:function(e){e.target.closest(".drp-calendar").classList.contains("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(e){e.target.closest(".drp-calendar").classList.contains("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(e){if(e.target.classList.contains("available")){var t=(l=e.target.dataset.title).substr(1,1),s=l.substr(3,1),i=e.target.closest(".drp-calendar").classList.contains("left")?this.leftCalendar.calendar[t][s]:this.rightCalendar.calendar[t][s],a=this.leftCalendar,n=this.rightCalendar,o=this.startDate;if(!this.endDate){let e=this.container.querySelectorAll(".drp-calendar tbody td");for(let h=0;h<e.length;++h){if(e[h].classList.contains("week"))return;t=(l=e[h].dataset.title).substr(1,1),s=l.substr(3,1);var l,r=e[h].closest(".drp-calendar").classList.contains("left")?a.calendar[t][s]:n.calendar[t][s];r.isAfter(o)&&r.isBefore(i)||r.isSame(i,"day")?e[h].classList.add("in-range"):e[h].classList.remove("in-range")}}}},clickDate:function(e){if(e.target.classList.contains("available")){var t=e.target.dataset.title,s=t.substr(1,1),i=t.substr(3,1),a=e.target.closest(".drp-calendar").classList.contains("left")?this.leftCalendar.calendar[s][i]:this.rightCalendar.calendar[s][i];if(this.endDate||a.isBefore(this.startDate,"day")){if(this.timePicker){var n=parseInt(this.container.querySelector(".left .hourselect").value,10);if(!this.timePicker24Hour)"PM"===(r=this.container.querySelector(".left .ampmselect").value)&&n<12&&(n+=12),"AM"===r&&12===n&&(n=0);var o=parseInt(this.container.querySelector(".left .minuteselect").value,10);isNaN(o)&&(o=parseInt(this.container.querySelector(".left .minuteselect option:last").value,10));var l=this.timePickerSeconds?parseInt(this.container.querySelector(".left .secondselect").value,10):0;a=a.clone().hour(n).minute(o).second(l)}this.endDate=null,this.setStartDate(a.clone())}else if(!this.endDate&&a.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var r;n=parseInt(this.container.querySelector(".right .hourselect").value,10);if(!this.timePicker24Hour)"PM"===(r=this.container.querySelector(".right .ampmselect").value)&&n<12&&(n+=12),"AM"===r&&12===n&&(n=0);o=parseInt(this.container.querySelector(".right .minuteselect").value,10);isNaN(o)&&(o=parseInt(this.container.querySelector(".right .minuteselect option:last").value,10));l=this.timePickerSeconds?parseInt(this.container.querySelector(".right .secondselect").value,10):0;a=a.clone().hour(n).minute(o).second(l)}this.setEndDate(a.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker&&this.autoApply&&this.clickApply()),this.updateView(),e.stopPropagation()}},calculateChosenLabel:function(){var t=!0;let s=Object.keys(this.ranges);for(let e=0;e<s.length;++e){let a=this.ranges[s[e]];if(this.timePicker){var i=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(i)==a[0].format(i)&&this.endDate.format(i)==a[1].format(i)){t=!1;let s=this.container.querySelectorAll(".ranges li");s[e].classList.add("active"),this.chosenLabel=s[e].dataset.rangeKey;break}}else if(this.startDate.format("YYYY-MM-DD")==a[0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==a[1].format("YYYY-MM-DD")){t=!1;let s=this.container.querySelectorAll(".ranges li");s[e].classList.add("active"),this.chosenLabel=s[e].dataset.rangeKey;break}}if(t){if(this.showCustomRangeLabel){let t=e.findLast(this.container.querySelectorAll(".ranges li"));t?(t.classList.add("active"),this.chosenLabel=t.dataset.rangeKey):this.chosenLabel=null}else this.chosenLabel=null;this.showCalendars()}},clickApply:function(e){this.hide(),e.target.dispatchEvent(new CustomEvent("apply.daterangepicker",{bubbles:!0,detail:this}))},clickCancel:function(e){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),e.target.dispatchEvent(new CustomEvent("cancel.daterangepicker",{bubbles:!0,detail:this}))},monthOrYearChanged:function(e){var t=e.target.closest(".drp-calendar").classList.contains("left"),s=t?"left":"right",i=this.container.querySelector(".drp-calendar."+s),a=parseInt(i.querySelector(".monthselect").value,10),n=i.querySelector(".yearselect").value;t||(n<this.startDate.year()||n==this.startDate.year()&&a<this.startDate.month())&&(a=this.startDate.month(),n=this.startDate.year()),this.minDate&&(n<this.minDate.year()||n==this.minDate.year()&&a<this.minDate.month())&&(a=this.minDate.month(),n=this.minDate.year()),this.maxDate&&(n>this.maxDate.year()||n==this.maxDate.year()&&a>this.maxDate.month())&&(a=this.maxDate.month(),n=this.maxDate.year()),t?(this.leftCalendar.month.month(a).year(n),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(a).year(n),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var s=t.target.closest(".drp-calendar"),i=s.classList.contains("left"),a=parseInt(s.querySelector(".hourselect").value,10),n=parseInt(s.querySelector(".minuteselect").value,10);isNaN(n)&&(n=parseInt(e.findLast(s.querySelectorAll(".minuteselect option")).value,10));var o=this.timePickerSeconds?parseInt(s.querySelector(".secondselect").value,10):0;if(!this.timePicker24Hour){var l=s.querySelector(".ampmselect").value;"PM"===l&&a<12&&(a+=12),"AM"===l&&12===a&&(a=0)}if(i){var r=this.startDate.clone();r.hour(a),r.minute(n),r.second(o),this.setStartDate(r),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==r.format("YYYY-MM-DD")&&this.endDate.isBefore(r)&&this.setEndDate(r.clone())}else if(this.endDate){var h=this.endDate.clone();h.hour(a),h.minute(n),h.second(o),this.setEndDate(h)}this.updateCalendars(),this.updateFormInputs();let c=this.container.querySelectorAll(".drp-calendar");e.off(c,"change","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChangedProxy),this.renderTimePicker("left"),this.renderTimePicker("right"),e.on(c,"change","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChangedProxy)},elementChanged:function(){if("INPUT"===this.element.tagName&&this.element.value&&this.element.value.length){var e=this.element.value.split(this.locale.separator),t=null,s=null;2===e.length&&(t=moment(e[0],this.locale.format),s=moment(e[1],this.locale.format)),(this.singleDatePicker||null===t||null===s)&&(s=t=moment(this.element.val(),this.locale.format)),t.isValid()&&s.isValid()&&(this.setStartDate(t),this.setEndDate(s),this.updateView())}},keydown:function(e){9!==e.keyCode&&13!==e.keyCode||this.hide(),27===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.hide())},updateElement:function(){if("INPUT"===this.element.tagName&&this.autoUpdateInput){let e=this.startDate.format(this.locale.format);this.singleDatePicker||(e+=this.locale.separator+this.endDate.format(this.locale.format)),e!==this.element.value&&(this.element.value=e)}},remove:function(){this._outsideClickProxy&&(document.removeEventListener("mousedown",this._outsideClickProxy),document.removeEventListener("touchend",this._outsideClickProxy),e.off(document,"click","[data-toggle=dropdown]",this._outsideClickProxy),document.removeEventListener("focusin",this._outsideClickProxy),delete this._outsideClickProxy),this.moveProxy&&(window.addEventListener("resize",this.moveProxy),delete this.moveProxy),this.clickRangeProxy&&(e.off(this.container.querySelector(".ranges"),"click","li",this.clickRangeProxy),delete this.clickRangeProxy);let t=this.container.querySelector(".drp-buttons");this.clickApplyProxy&&(e.off(t,"click","button.applyBtn",this.clickApplyProxy),delete this.clickApplyProxy),this.clickCancelProxy&&(e.off(t,"click","button.cancelBtn",this.clickCancelProxy),delete this.clickCancelProxy),"INPUT"===this.element.tagName||"BUTTON"===this.element.tagName?(this.showProxy&&(e.off(this.element,"click",this.showProxy),e.off(this.element,"focus",this.showProxy),delete this.showProxy),this.elementChangedProxy&&(e.off(this.element,"keyup",this.elementChangedProxy),delete this.elementChangedProxy),this.keydownProxy&&(e.off(this.element,"keydown",this.keydownProxy),delete this.keydownProxy)):this.toggleProxy&&(e.off(this.element,"click",this.toggleProxy),e.off(this.element,"keydown",this.toggleProxy),delete this.toggleProxy);let s=this.container.querySelectorAll(".drp-calendar");this.clickPrevProxy&&(e.off(s,"click",".prev",this.clickPrevProxy),delete this.clickPrevProxy),this.clickNextProxy&&(e.off(s,"click",".next",this.clickNextProxy),delete this.clickNextProxy),this.clickDateProxy&&(e.off(s,"mousedown","td.available",this.clickDateProxy),delete this.clickDateProxy),this.hoverDateProxy&&(e.off(s,"mouseenter","td.available",this.hoverDateProxy),delete this.hoverDateProxy),this.monthOrYearChangedProxy&&(e.off(s,"change","select.yearselect",this.monthOrYearChangedProxy),e.off(s,"change","select.monthselect",this.monthOrYearChangedProxy),delete this.monthOrYearChangedProxy),this.timeChangedProxy&&(e.off(s,"change","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChangedProxy),delete this.timeChangedProxy),delete this.container,delete this.element.dataset}};var e={addClassSub:function(e,t){let s=t.split(" ");for(let t=0;t<s.length;++t)e.classList.add(s[t].trim())},addClass:function(t,s){if(t)if("number"==typeof t.length)for(let i=0;i<t.length;++i)e.addClassSub(t[i],s);else e.addClassSub(t,s)},findLast:function(e){return e?"number"==typeof e.length?e.length>0?e[e.length-1]:null:e:null},findSelectedOption:function(e){if(!e||!e.options||!e.options.length)return null;for(let t=0;t<e.options.length;++t)if(e.options[t].selected)return e.options[t];return null},getSelectorFromElement:function(e){if(!(e&&e instanceof Element))return null;let t=e.nodeName.toLowerCase();if(e.id)return t+"#"+e.id;for(let s=0;s<e.classList.length;++s)t+="."+e.classList[s];return t},html:function(e,t){e&&(e.innerHTML=t)},offset:function(e){if(!e)return{top:0,left:0};if(!e.getClientRects().length)return{top:0,left:0};let t=e.getBoundingClientRect(),s=e.ownerDocument.defaultView;return{top:t.top+s.pageYOffset,left:t.left+s.pageXOffset}},offSub:function(e,t,s){if("number"==typeof e.length)for(let i=0;i<e.length;++i)e[i].removeEventListener(t,s);else e.removeEventListener(t,s)},off:function(t,s,i,a){if(t)if("function"==typeof i)e.offSub(t,s,i);else if("number"==typeof t.length)for(let n=0;n<t.length;++n)e.offSub(t[n].querySelectorAll(i),s,a);else e.offSub(t.querySelectorAll(i),s,a)},onSub:function(e,t,s){if("number"==typeof e.length)for(let i=0;i<e.length;++i)e[i].addEventListener(t,s);else e.addEventListener(t,s)},on:function(t,s,i,a){if(t)if("function"==typeof i)e.onSub(t,s,i);else if("number"==typeof t.length)for(let n=0;n<t.length;++n)e.onSub(t[n].querySelectorAll(i),s,a);else e.onSub(t.querySelectorAll(i),s,a)}}}();